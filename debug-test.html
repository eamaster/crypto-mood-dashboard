<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
</head>
<body>
    <h1>Worker Debug Test</h1>
    <div id="results"></div>

    <script>
        const WORKER_URL = 'https://crypto-mood-dashboard.smah0085.workers.dev';
        const resultsDiv = document.getElementById('results');

        async function testEndpoint(path, description) {
            try {
                console.log(`Testing ${path}...`);
                const response = await fetch(`${WORKER_URL}${path}`);
                console.log(`Response status for ${path}:`, response.status);
                const data = await response.json();
                console.log(`Data for ${path}:`, data);
                
                resultsDiv.innerHTML += `
                    <h3>✅ ${description}</h3>
                    <p>Status: ${response.status}</p>
                    <pre>${JSON.stringify(data, null, 2).substring(0, 500)}...</pre>
                    <hr>
                `;
            } catch (error) {
                console.error(`Error testing ${path}:`, error);
                resultsDiv.innerHTML += `
                    <h3>❌ ${description}</h3>
                    <p>Error: ${error.message}</p>
                    <hr>
                `;
            }
        }

        async function runTests() {
            resultsDiv.innerHTML = '<p>Running tests...</p>';
            
            await testEndpoint('/coins', 'Coins Endpoint');
            await testEndpoint('/history?coin=bitcoin&days=7', 'History Endpoint');
            await testEndpoint('/news?coin=bitcoin', 'News Endpoint');
        }

        // Run tests when page loads
        window.addEventListener('load', runTests);
    </script>
</body>
</html> 